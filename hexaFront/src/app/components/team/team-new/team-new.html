<div class="form-container">
    <form class="team-form">
        <h2>New Team</h2>

        <div class="form-group">
            <label for="name">Name:</label>
            <input id="name" type="text" [(ngModel)]="team.name" name="name" required />
        </div>

        <div class="form-group">
            <label for="personSelect">Add Person:</label>
            <select id="personSelect" #personSelect (change)="addPerson(personSelect.value); personSelect.value=''">
                <option value="" disabled selected>Select a person</option>
                @if (persons) {
                    @for (person of persons; track person.id) {
                        @if (!team.persons.includes(person)) {
                            <option [value]="person.id">{{ person.name }}</option>
                        }
                    }
                }
            </select>
        </div>

        <button type="button" (click)="saveTeam()">Save</button>
    </form>
</div>
<table class="styled-table">
    <tr>
        <th></th>
        <th>Id</th>
        <th>Name</th>
        <th>FirstName</th>
        <th>Age</th>
    </tr>
    @if (team.persons) {
        @for (person of team.persons; track person.id) {
            <tr>
                <td (click)="deletePersonInNewTeam(person.id)" class="clickable"><span class="pi pi-trash"></span></td>
                <td>{{ person.id }} </td>
                <td>{{ person.name }}</td>
                <td>{{ person.firstName }}</td>
                <td>{{ person.age }}</td>
            </tr>
        }
    }
</table>
